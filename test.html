<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>图片</title>
		<link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
		<script type="text/javascript" src="js/jquery-3.3.1.js"></script>

	</head>
	<body onload="search(30)">

		<div class="container">


		

			<br>
			<hr>


			<table class="table table-striped table-bordered table-hover" id ="td">

				</table>
				
				<ul class="pagination">
				          <li><a class="select" href="">&laquo;</a>
				          <li><a class="select" href="javascript:void(0)" id="1">1</a>
				          <li><a class="select" href="javascript:void(0)" id="2">2</a>
				          <li><a class="select" href="javascript:void(0)" id="3">3</a>
				          <li><a class="select" href="javascript:void(0)" id="4">4</a>
				          <li><a class="select" href="javascript:void(0)" id="5">5</a>
						  <li><a class="select" href="javascript:void(0)" id="6">6</a>
						  <li><a class="select" href="javascript:void(0)" id="7">7</a>
						  <li><a class="select" href="javascript:void(0)" id="8">8</a>
						  <li><a class="select" href="javascript:void(0)" id="9">9</a>
						  <li><a class="select" href="javascript:void(0)" id="10">10</a>
				          <li><a class="select" href="#">&raquo;</a>
				      </ul>

		</div>
		<script type="text/javascript">
			 function popfalse() {
			            return false;
			        }
					//var page = document.getElementById("pagex").value;//获取文本框元素的value
			        //点击按钮查询
			            
			            $(".select").click(function () {
			                vid = $(this).attr("id");
			                page = 30 +parseInt(vid);
			                search(page);
			            })
			function search(page){
			
			//找到<tbody>
			var td = $("#td");//jquery找元素标签
			
			//清空
			td.html("");
			$.ajax({
				type:"POST",
				url:"https://api.apiopen.top/getImages",
				data:"page="+page+"&count=20",
				success:function(data){
					
					  
					  var database = JSON.stringify(data);
					  
					  var jsonObj = JSON.parse(database);
					 // for(var index=0;index<20;index++){
					 //  console.log(jsonObj.result[index].img);
					 //   }
					   for(var index=0;index<20;index+=4){
						var str = "<tr><th>" + 
						     "<a href='" + jsonObj.result[index].img + "'target='_blank'>" + "<img width='200px'  src='" + jsonObj.result[index].img + "'>"+
						     "</a></th>"+
                             "<th>" + 
							 "<a href='" + jsonObj.result[index + 1].img + "'target='_blank'>" + "<img width=200px' src='" + jsonObj.result[index + 1].img + "'>"+
							 "</a></th>"+
                             "<th>" + 
							 "<a href='" + jsonObj.result[index + 2].img + "'target='_blank'>" + "<img width='200px' src='" + jsonObj.result[index + 2].img + "'>"+
							 "</a></th>"
                             "<th>" + 
							 "<a href='" + jsonObj.result[index + 3].img + "'target='_blank'>" + "<img width='200px' src='" + jsonObj.result[index + 3].img + "'>"+
							 "</a></th><tr>"
                        
						   console.log(jsonObj.result[index].img);
						
							 td.append(str);//将字符串添加到指定的标签中
							 }
							
					  				
					
				},
				
						
			});
			}
		</script>
	</body>
</html>


<!-- 
   1.导入bootstrap和jquery
   2.设置页面
 
 
 -->
